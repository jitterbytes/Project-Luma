#LUMA v1.0 

##Device States & Transitions

### 1. **STATE_DEVICE_ON (Boot Animation)**  
Automatically starts when the device is powered ON.

- No button input required
- Plays TV-style scanline boot animation
- Auto transition to **STATE_DEVICE_SCREENSAVER**

### 2. **STATE_DEVICE_SCREENSAVER** - Idle Animation  

Calming floating orb screensaver.

- **Long Press A**: No action  
- **Short Press A**: Transition to **STATE_DEVICE_MENU**  
- **Long Press B**: No action  
- **Short Press B**: Trigger orb interaction  
  - Orb vibrates  
  - Orb explodes into particles  
  - Returns to screensaver automatically

### 3. **STATE_DEVICE_MENU** - Main Menu  

Used to select available animations.

- **Long Press A**: No action  
- **Short Press A**: Transition back to **STATE_DEVICE_SCREENSAVER**  
- **Long Press B**: Select current menu option and enter:
  - **STATE_COLOR_FLOOD**
  - **STATE_FALLING_PIXELS**
- **Short Press B**: Cycle through menu options

### 4. **STATE_COLOR_FLOOD** - Color Ripple Interaction  

Expanding color waves across the LED matrix.

- **Long Press A**: No action  
- **Short Press A**: Transition back to **STATE_DEVICE_MENU**  
- **Long Press B**: No action  
- **Short Press B**: Spawn a new color flood  
  - Random position  
  - Random hue  
  - Multiple floods can exist simultaneously (up to 5)

### 5. **STATE_FALLING_PIXELS** - Falling Pixel Interaction

Pixels fall, stack, and fill the grid.

- **Long Press A**: Transition back to **STATE_DEVICE_MENU**  
- **Short Press A**: No action  
- **Short Press B**: Drop a single pixel  
  - Random column  
  - Random color  
- **Long Press B**: Drop multiple pixels (8–10 at once)  
- Grid fills completely → Win animation (remains in same state)

## Input Handling (Global)

- **Debounce Time**: 20 ms  
- **Long Press Threshold**: 1 second  
- Buttons are shared across all states  
- All transitions handled via a clean Finite State Machine (FSM)

## Summary
- Device behavior is entirely state-driven  
- Each state has clearly defined button actions  
- No hidden transitions  
- Easy to extend with new animations or menu items 
